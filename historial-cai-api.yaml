# YAML scpecification for API docs
swagger: '2.0'

# This is your document metadata
info:
  version: "2016.1"
  title: "Historial CAI API"
  description: "El objetivo de esta API es gestionar el historial de partidos del CAI sin depender de una única aplicación. Esta API podrá ser consultada por cualquier aplicación que lo requiera."

host: "localhost:3001"
basePath: "/v0"
produces:
  - application/json
responses:
  400:
    description: Bad Request
    schema:
      $ref: '#/definitions/Error'
  401:
    description: Unauthorized
    schema:
      $ref: '#/definitions/Error'
# Describe your paths here
paths:
  /equipo:
    get:
      description: List of Equipos
      responses:
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        200:
          description: Response OK
          schema:
            title: ArrayOfEquipos
            type: array
            items:
              $ref: '#/definitions/Equipo'
    post:
      description: Save a new equipo
      parameters:
      -
        name: data
        in: body
        description: New Equipo 
        required: true
        schema:
         $ref: '#/definitions/Equipo' 
      responses:
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        200:
          description: Response OK
          schema:
            $ref: '#/definitions/OK'
  /torneo:
    get:
      description: List of Torneos
      responses:
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        200:
          description: Response OK
          schema:
            title: ArrayOfTorneos
            type: array
            items:
              $ref: '#/definitions/Torneo'
    post:
      description: Save a new Torneo
      parameters:
      -
        name: data
        in: body
        description: new Torneo
        required: true
        schema:
            $ref: '#/definitions/Torneo'
      responses:
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        200:
          description: Response ok
          schema:
            $ref: '#/definitions/OK'
  /ediciontorneo:
    get:
      description: List of EdicionTorneo
      responses:
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        200:
          description: Response OK
          schema:
            $ref: '#/definitions/OK'
    post:
      description: Save a new EdicionTorneo
      parameters:
      -
        name: data
        in: body
        description: new EdicionTorneo
        required: true
        schema:
            $ref: '#/definitions/EdicionTorneo'
      responses:
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        200:
          description: Response ok
          schema:
            $ref: '#/definitions/OK'
  /arbitro:
    get:
      description: List of Arbitro
      responses:
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        200:
          description: Response OK
          schema:
            $ref: '#/definitions/OK'
    post:
      description: Save a new Arbitro
      parameters:
      -
        name: data
        in: body
        description: new Arbitro
        required: true
        schema:
            $ref: '#/definitions/Arbitro'
      responses:
        400:
          $ref: '#/responses/400'
        401:
          $ref: '#/responses/401'
        200:
          description: Response ok
          schema:
            $ref: '#/definitions/OK'
definitions:
  OK:
    type: object
    properties:
      status:
        type: number
      message:
        type: string
  Error:
    type: object
    properties:
      status:
        type: number
      message:
        type: string
  Torneo:
    type: object
    properties:
      nombre:
        type: string
      tipo:
        type: string
  EdicionTorneo:
    type: object
    properties:
      nombre:
        type: string
      torneo:
        type: string
      isCurrent:
        type: boolean
  Equipo:
    type: object
    required: [nombre, pais]
    properties:
      nombre:
        type: string
      ciudad:
        type: string
      provincia:
        type: string
      pais:
        type: string
      escudo:
        type: string
  Arbitro:
    type: object
    properties:
      nombre:
        type: string
      apellido:
        type: string
      pais:
        type: string
      fechaNacimiento:
        type: string
        format: date
      isRetired:
        type: boolean
  Tecnico:
    type: object
    properties:
      nombre:
        type: string
      apellido:
        type: string
      pais:
        type: string
      fechaNacimiento:
        type: string
        format: date
      isCurrent:
        type: boolean
  Jugador:
    type: object
    properties:
      nombre:
        type: string
      apellido:
        type: string
      pais:
        type: string
      fechaNacimiento:
        type: string
        format: date
      posicion:
        type: string
      isRetired:
        type: boolean
  Partido:
    type: object
    properties:
      fechaPartido:
        type: string
        format: date
      EdicionTorneo:
        $ref: '#/definitions/EdicionTorneo'
      Equipo:
        $ref: '#/definitions/Equipo'
      goles:
        type: object
        properties:
          cai:
            type: integer
          rival:
            type: integer
      Arbitro:
        $ref: '#/definitions/Arbitro'
      Tecnico:
        $ref: '#/definitions/Tecnico'